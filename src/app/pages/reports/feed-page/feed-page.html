<section class="feed container">
  <h1 class="section-title">Reportes de la Ciudad</h1>

  <!-- BREADCRUMB -->
  @if (selectedCategory() !== 'TODAS') {
    <div class="breadcrumb">
      <span>Todas</span>
      <span class="separator">‚Ä∫</span>
      <span class="active">{{ formatCategoryName(selectedCategory()) }}</span>
      @if (selectedSubcategory() !== 'TODAS') {
        <span class="separator">‚Ä∫</span>
        <span class="active">{{ formatCategoryName(selectedSubcategory()) }}</span>
      }
      <button class="clear-btn" (click)="clearCategoryFilters()">‚úï</button>
    </div>
  }

  <!-- FILTROS DE CATEGOR√çAS -->
  <div class="filter-section">
    <h3>Categor√≠as:</h3>
    <div class="filter-buttons">
      <button 
        class="filter-btn" 
        [class.active]="selectedCategory() === 'TODAS'"
        (click)="setCategory('TODAS')">
        Todas
      </button>
      @for (category of lectureCategories(); track category.id) {
        <button 
          class="filter-btn" 
          [class.active]="selectedCategory() === category.nombre"
          (click)="setCategory(category.nombre)">
          {{ formatCategoryName(category.nombre) }}
        </button>
      }
    </div>
  </div>

  <!-- FILTROS DE SUBCATEGOR√çAS -->
  @if (selectedCategory() !== 'TODAS' && subcategories().length > 0) {
    <div class="filter-section">
      <h3>Subcategor√≠as:</h3>
      <div class="filter-buttons">
        <button 
          class="filter-btn" 
          [class.active]="selectedSubcategory() === 'TODAS'"
          (click)="setSubcategory('TODAS')">
          Todas
        </button>
        @for (sub of subcategories(); track sub.id) {
          <button 
            class="filter-btn" 
            [class.active]="selectedSubcategory() === sub.nombre"
            (click)="setSubcategory(sub.nombre)">
            {{ formatCategoryName(sub.nombre) }}
          </button>
        }
      </div>
    </div>
  }

  <!-- FILTROS DE ESTADO -->
  <div class="filter-section">
    <h3>Estado:</h3>
    <div class="filter-buttons">
      <button 
        class="filter-btn" 
        [class.active]="selectedStatus() === 'TODOS'"
        (click)="setStatus('TODOS')">
        Todos
      </button>
      <button 
        class="filter-btn" 
        [class.active]="selectedStatus() === 'PENDIENTE'"
        (click)="setStatus('PENDIENTE')">
        Pendiente
      </button>
      <button 
        class="filter-btn" 
        [class.active]="selectedStatus() === 'EN_PROCESO'"
        (click)="setStatus('EN_PROCESO')">
        En proceso
      </button>
      <button 
        class="filter-btn" 
        [class.active]="selectedStatus() === 'FINALIZADO'"
        (click)="setStatus('FINALIZADO')">
        Finalizado
      </button>
    </div>
  </div>

  <!-- CONTADOR DE RESULTADOS -->
  <p class="results-count">
    Mostrando {{ filteredReports().length }} reporte(s)
  </p>

  <!-- TARJETAS DE REPORTES -->
  <div class="cards">
    @for (reporte of filteredReports(); track reporte.id) {
      <app-report-card [reporte]="reporte"></app-report-card>
    } @empty {
      <p class="no-results">No hay reportes que coincidan con los filtros seleccionados</p>
    }
  </div>
</section>

<!--
[attr.aria-pressed]="selectedCategory() === cat" no cambia nada visual por s√≠ solo.
Lo √∫nico que hace es agregar al HTML algo como esto:

<button aria-pressed="true">Baches</button>
<button aria-pressed="false">Alumbrado</button>
<button aria-pressed="false">Residuos</button>


O sea: no ‚Äúejecuta‚Äù nada, no ‚Äúdetecta‚Äù clics, ni ‚Äúactiva‚Äù botones visualmente.
Su funci√≥n es describir sem√°nticamente qu√© bot√≥n est√° activo para el navegador y los lectores de pantalla (accesibilidad).



üé® 2. Qu√© te aporta a vos (y c√≥mo puede tener un efecto visible)

Lo bueno es que vos pod√©s aprovecharlo para marcar visualmente el bot√≥n activo, sin necesitar otra variable m√°s.
Por ejemplo, si le agreg√°s esto a tu CSS:

button[aria-pressed="true"] {
  background-color: #007bff;
  color: white;
  font-weight: 600;
}
-->