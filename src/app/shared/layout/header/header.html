<header class="header">
  <div class="header-content">
    
    <!-- HAMBURGER (mobile) -->
    <button 
      class="hamburger"
      (click)="onMenuToggle()"
      aria-label="Abrir menÃº"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- LOGO -->
    <div class="logo">
      <h1>Report it!</h1>
    </div>

    <!-- ACCIONES DERECHA -->
    <div class="actions">
      
      <!-- BOTÃ“N NUEVO REPORTE -->
       @if(!isAdmin()){
        <button 
          class="btn-new-report"
          (click)="goToNewReport()"
        >
          + Nuevo Reporte
        </button>
      }
      <!-- AVATAR CON DROPDOWN -->
      <div class="profile-menu">
        <button 
          class="avatar-btn"
          (click)="toggleDropdown()"
          [attr.aria-expanded]="showDropdown()"
        >
          <div class="avatar">
            {{ getUsername().charAt(0).toUpperCase() }}
          </div>
        </button>

        <!-- DROPDOWN -->
        @if (showDropdown()) {
          <div class="dropdown">
            <div class="dropdown-header">
              <span class="username">@{{ getUsername() }}</span>
            </div>
            
            <button class="dropdown-item" (click)="goToProfile()">
              ðŸ‘¤ Mi Perfil
            </button>
            
            <div class="dropdown-divider"></div>
            
            <button class="dropdown-item logout" (click)="logout()">
              ðŸšª Cerrar SesiÃ³n
            </button>
          </div>
        }
      </div>

    </div>
  </div>

  <!-- OVERLAY para cerrar dropdown al clickear afuera -->
  @if (showDropdown()) {
    <div 
      class="dropdown-overlay" 
      (click)="closeDropdown()"
    ></div>
  }
</header>
